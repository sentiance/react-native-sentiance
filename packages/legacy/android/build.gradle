apply plugin: 'com.android.library'

buildscript {
    repositories {
      google()
      gradlePluginPortal()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:4.1.3'
    }
}

def crashDetectionProj
if (findProject(':@react-native-sentiance_crash-detection')) {
  crashDetectionProj = project(':@react-native-sentiance_crash-detection')
} else if (findProject(':react-native-sentiance_crash-detection')) {
  crashDetectionProj = project(':react-native-sentiance_crash-detection')
} else {
  throw new GradleException('Could not find the react-native-sentiance/crash-detection package, have you installed it?')
}

android {
    compileSdkVersion 30
    buildToolsVersion "29.0.3"

    defaultConfig {
        minSdkVersion 23
        targetSdkVersion 30

        versionCode 21
        versionName "4.0.2"
    }

    lintOptions {
        abortOnError false
    }
}

repositories {
    google()
    mavenLocal()
    mavenCentral()
    gradlePluginPortal()
    maven {
        url "http://repository.sentiance.com"
    }
}

def sentianceSdkVersion = "20211015-SDK1-1569-pending-op"

dependencies {
    api(crashDetectionProj) { transitive = true }

    implementation 'com.facebook.react:react-native:+'
    api ("com.sentiance:sdk:$sentianceSdkVersion@aar") { transitive = true }
    api ("com.sentiance:sdk-lifestyle:$sentianceSdkVersion@aar") { transitive = true }
    api ("com.sentiance:sdk-crash-detection:$sentianceSdkVersion@aar") { transitive = true }
}
