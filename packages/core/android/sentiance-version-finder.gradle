def coreProj
if (findProject(':core')) {
  coreProj = project(':core')
} else if (findProject(':sentiance-react-native_core')) {
  coreProj = project(':sentiance-react-native_core')
} else if (findProject(':@sentiance-react-native_core')) {
  coreProj = project(':@sentiance-react-native_core')
} else {
  throw new GradleException('Could not find the @sentiance-react-native/core package, have you installed it?')
}

apply from: "$coreProj.projectDir/package-json-reader.gradle"

def packageJson = PackageJson.of(coreProj)
ext.getSentianceSdkVersion = {
  def envVarVersion = System.getenv("SENTIANCE_RN_ANDROID_SDK_VERSION")
  def packageVersion = packageJson['sdkVersions']['android']['sentiance']

  return envVarVersion ?: packageVersion
}
